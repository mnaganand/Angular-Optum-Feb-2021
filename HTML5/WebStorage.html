<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Web Storage</title>

<script type="text/javascript" src="lib/jquery-3.5.1.js"></script>


<script type="text/javascript">
	
	$(document).ready(function() {
		
		
		let tasks;
		var json = window.localStorage.getItem("tasks");
		if(json === null){
			tasks = []
		}
		else{
			tasks = JSON.parse(json);
		}
		for (const item of tasks) {
			$("#tasksDiv").append("<p>" + item + "</p>");
		}
		
		
		var backColor = window.sessionStorage.getItem("backColor");
		$("#tasksDiv").css("background-color", backColor);
		
		$("#saveBt").click(function() {
		
			if(window.localStorage)
				{
					var localStorage = window.localStorage;
					//var json = window.localStorage.getItem("tasks");
					//const tasks = JSON.parse(tasks);
					const task = $("#tasksTB").val();
					tasks.push(task);
					localStorage.setItem("tasks", JSON.stringify(tasks));	
					$("#tasksDiv").append("<p>" + task + "</p>");
					$("#tasksTB").val('');
				
					alert("Tasks saved.");
				}
			else
				{
					alert("Not suppported..");
				}
			
		});
		
		$("#saveColorBt").click(function() {
			
			window.sessionStorage.setItem("backColor", 
												$("#colorTB").val());
			$("#tasksDiv").css("background-color", $("#colorTB").val());
		})
		
		
		
		
	});

</script>

</head>
<body>
	<h2>Web Storage</h2>
	<div>
		<input id="tasksTB" type="text" placeholder="Task Name"/>&nbsp;
		<input type="button" id="saveBt" value="Save Task">

	</div>
	<p>Tasks</p>
	<div id="tasksDiv" style="height: 300px; width: 300px;border: 1px solid;">
		
	</div>
	
	
	
	<p>
		Choose the back color
	</p>
	<p>
		<input type="color" id="colorTB">
	</p>
	<p>
		<input type="button" id="saveColorBt" value="Save Color">
	</p>
	

</body>
</html>


